---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cedar_policyset Data Source - cedar"
subcategory: ""
description: |-
  Generates a Cedar Policy Set for use with resources that expect Cedar policies.
  You may specify multiple Cedar policies in a PolicySet by providing multiple 'policy' blocks.
  Each policy block must contain an effect (either 'permit' or 'forbid') and must contain a principal, action, and resource clause for the policy scope.
  For the principal clause, you can provide 'principal', 'principal_in', 'principal_is', or 'any_principal'.
  For the action clause, you can provide 'action', 'action_in', or 'any_action'.
  For the resource clause, you can provide 'resource', 'resource_in', 'resource_is', or 'any_resource'.
  You may also optionally provide one or more 'when' and 'unless' conditions as blocks.
---

# cedar_policyset (Data Source)

Generates a Cedar Policy Set for use with resources that expect Cedar policies.

You may specify multiple Cedar policies in a PolicySet by providing multiple 'policy' blocks.

Each policy block must contain an effect (either 'permit' or 'forbid') and must contain a principal, action, and resource clause for the policy scope.

For the principal clause, you can provide 'principal', 'principal_in', 'principal_is', or 'any_principal'.
For the action clause, you can provide 'action', 'action_in', or 'any_action'.
For the resource clause, you can provide 'resource', 'resource_in', 'resource_is', or 'any_resource'.

You may also optionally provide one or more 'when' and 'unless' conditions as blocks.

## Example Usage

```terraform
# Basic example
data "cedar_policyset" "example" {
  policy {
    principal = {
      type = "User"
      id   = "alice"
    }
    action = {
      type = "Action"
      id   = "Read"
    }
    any_resource = true

    when {
      text = "resource.is_public"
    }
  }
}

output "policy_text" {
  // renders the following policy:
  //
  // permit (
  //  principal == User::"alice",
  //  action == Action::"Read",
  //  resource
  // );
  value = data.cedar_policyset.example.text
}

# With when/unless conditions
data "cedar_policyset" "with_conditions" {
  policy {
    principal = {
      type = "User"
      id   = "alice"
    }
    action = {
      type = "Action"
      id   = "Read"
    }
    any_resource = true

    when {
      text = "resource.is_public"
    }
  }
}

output "policy_text" {
  // renders the following policy:
  //
  // permit (
  //  principal == User::"alice",
  //  action == Action::"Read",
  //  resource
  // );
  value = data.cedar_policyset.example.text
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `policy` (Block List) a list of policies to be included in the PolicySet (see [below for nested schema](#nestedblock--policy))

### Read-Only

- `text` (String) The Cedar PolicySet, rendered as a string.

<a id="nestedblock--policy"></a>
### Nested Schema for `policy`

Required:

- `effect` (String) Must be either 'permit' or 'forbid'.

Optional:

- `action` (Object) Specifies the action component of the policy scope. Equivalent to writing 'action ==' (see [below for nested schema](#nestedatt--policy--action))
- `action_in` (List of Object) Specifies the action component of the policy scope. Equivalent to writing 'action in' (see [below for nested schema](#nestedatt--policy--action_in))
- `annotation` (Attributes) Additional application-specific metadata attached to Cedar policies. (see [below for nested schema](#nestedatt--policy--annotation))
- `any_action` (Boolean) Specifies the action component of the policy scope. Matches all actions. Equivalent to writing 'action'
- `any_principal` (Boolean) Specifies the principal component of the policy scope. Matches all principals. Equivalent to writing 'principal'
- `any_resource` (Boolean) Specifies the resource component of the policy scope. Matches all resources. Equivalent to writing 'resource'
- `principal` (Object) Specifies the principal component of the policy scope. Equivalent to writing 'principal ==' (see [below for nested schema](#nestedatt--policy--principal))
- `principal_in` (List of Object) Specifies the principal component of the policy scope. Equivalent to writing 'principal ==' (see [below for nested schema](#nestedatt--policy--principal_in))
- `principal_is` (String) Specifies the principal component of the policy scope. Equivalent to writing 'principal in'
- `resource` (Object) Specifies the resource component of the policy scope. Equivalent to writing 'resource ==' (see [below for nested schema](#nestedatt--policy--resource))
- `resource_in` (List of Object) Specifies the resource component of the policy scope. Equivalent to writing 'resource in' (see [below for nested schema](#nestedatt--policy--resource_in))
- `resource_is` (String) Specifies the resource component of the policy scope. Equivalent to writing 'resource is'
- `unless` (Block List) Defines additional conditions under which the policy applies. The 'when' block must evaluate to true, otherwise the policy does not apply. (see [below for nested schema](#nestedblock--policy--unless))
- `when` (Block List) Defines additional conditions under which the policy applies. The 'when' block must evaluate to true, otherwise the policy does not apply. (see [below for nested schema](#nestedblock--policy--when))

<a id="nestedatt--policy--action"></a>
### Nested Schema for `policy.action`

Optional:

- `id` (String)
- `type` (String)


<a id="nestedatt--policy--action_in"></a>
### Nested Schema for `policy.action_in`

Optional:

- `id` (String)
- `type` (String)


<a id="nestedatt--policy--annotation"></a>
### Nested Schema for `policy.annotation`

Required:

- `name` (String) The name of the annotation. For example, if the name is 'advice' the rendered annotation will be '@advice()'.
- `value` (String) The value of the annotation. For example, if the name is 'advice' and the value is 'test' the rendered annotation will be '@advice("test")'.


<a id="nestedatt--policy--principal"></a>
### Nested Schema for `policy.principal`

Optional:

- `id` (String)
- `type` (String)


<a id="nestedatt--policy--principal_in"></a>
### Nested Schema for `policy.principal_in`

Optional:

- `id` (String)
- `type` (String)


<a id="nestedatt--policy--resource"></a>
### Nested Schema for `policy.resource`

Optional:

- `id` (String)
- `type` (String)


<a id="nestedatt--policy--resource_in"></a>
### Nested Schema for `policy.resource_in`

Optional:

- `id` (String)
- `type` (String)


<a id="nestedblock--policy--unless"></a>
### Nested Schema for `policy.unless`

Required:

- `text` (String) The 'unless' condition as a string. For example, 'resource.is_private || principal in Group::"Restricted"'


<a id="nestedblock--policy--when"></a>
### Nested Schema for `policy.when`

Required:

- `text` (String) The 'when' condition as a string. For example, 'resource.is_public && principal in Group::"Example"'
